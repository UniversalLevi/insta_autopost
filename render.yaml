services:
  - type: web
    name: instaforge
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: python web_server.py
    envVars:
      - key: ENVIRONMENT
        value: production
      - key: WEB_PORT
        value: 8000
      - key: WEB_HOST
        value: 0.0.0.0
      # Add these in Render dashboard under Environment Variables:
      # - META_APP_ID
      # - META_APP_SECRET
      # - OPENAI_API_KEY
      # - WEBHOOK_VERIFY_TOKEN
      # - CLOUDINARY_CLOUD_NAME
      # - CLOUDINARY_API_KEY
      # - CLOUDINARY_API_SECRET
      # - WEB_PASSWORD (optional, defaults to 'admin')
    healthCheckPath: /api/health
    autoDeploy: true
